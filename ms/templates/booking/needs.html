{% extends "base.html" %}
{% block extra_css %}
<link rel="stylesheet" href="/static/css/step.css">
{% endblock extra_css %}
{% block content %}
<div class="page-box">
	<div class="container">
		<div id="custom-step">
			<div class="row">
				<div class="col-md-2"></div>
				<div class="col-md-2">
					 <div class="service_border bdr-blue"></div>
	                 <div class="service_icon active">
	                        1
	                 </div>
	                 <div class="service_content">
	                     <h3>Date <br> And Time</h3>
	                 </div>
				</div>
				<div class="col-md-2">
					 <div class="service_border bdr-blue"></div>
	                 <div class="service_icon active">
	                        2
	                 </div>
	                 <div class="service_content">
	                     <h3>Contact <br> Information</h3>
	                 </div>
				</div>
				<div class="col-md-2">
					 <div class="service_border bdr-default"></div>
	                 <div class="service_icon active">
	                        3
	                 </div>
	                 <div class="service_content">
	                     <h3>Cleaning <br> needs</h3>
	                 </div>
				</div>
				<div class="col-md-2">
	                 <div class="service_icon default">
	                        4
	                 </div>
	                 <div class="service_content text-default">
	                     <h3>CONFIRM<br> AND PAY</h3>
	                 </div>
				</div>
				<div class="col-md-2"></div>
			</div>
		</div>
	</div>
</div>
<div class="container">
	<div class="top-line col-md-8">
		<h3>Cleaning Needs</h3>
	</div>
	<div class="col-md-8">
		<form action="" method="post" enctype="multipart/form-data">
			<ul class="form-needs">
				<li class="ne-li-1">
					<font>ROOMS</font>
					{{ form.bedroom }}
					{{ form.bedroom.errors }}
					<input type="hidden" id="room_hour">
				</li>
				<li class="ne-li-2">
					{{ form.bathroom }}
					{{ form.bathroom.errors }}
				</li>
				<li class="ne-li-1">
					<font>INSIDE FRIDGE<span class="optional-area">(additional task)</span></font>
					<button class="refrigerator add-require add-re" type="button" data-toggle="tooltip" data-placement="top" title="+1 Hour">YES</button>
					{{ form.refrigerator }}
					{{ form.refrigerator.errors }}
				</li>
				<li class="ne-li-2">
					<button class="refrigerator add-require tiffany-blue-btn" type="button">NO</button>
				</li>
				<li class="ne-li-1">
					<font>HAND WASH CLOTHES<span class="optional-area">(additional task)</span></font>
					<button class="hand_wash add-require add-re" type="button" data-toggle="tooltip" data-placement="top" title="+1 Hour">YES</button>
					{{ form.hand_wash }}
					{{ form.hand_wash.errors }}
				</li>
				<li class="ne-li-2">
					<button class="hand_wash add-require tiffany-blue-btn" type="button">NO</button>
				</li>
				<li class="ne-li-1">
					<font>IRON CLOTHES<span class="optional-area">(additional task)</span></font>
					<button class="iron_clothe add-require add-re" type="button" data-toggle="tooltip" data-placement="top" title="+1 Hour">YES</button>
					{{ form.iron_clothe }}
					{{ form.iron_clothe.errors }}
				</li>
				<li class="ne-li-2">
					<button class="iron_clothe add-require tiffany-blue-btn" type="button">NO</button>
				</li>
				<li class="ne-li-1">
					<font style="width:380px;">NUMBER OF HOURS RECOMMENDED</font>
				</li>
				<li class="ne-li-2">
					{{ form.hour }}
					{{ form.hour.errors }}
				</li>
				<li class="ne-li-3"><h3>SPECIAL INSTRUCTIONS</h3></li>
				<li class="ne-li-3 msg-char">
					{{ form.message }}
					{{ form.message.errors }}
					<span id="message-char">maximum of 300 characters, <var>300</var> left.</span>
				</li>
			</ul>
			<button id="s2-sm" type="submit">NEXT</button>
		</form>
	</div>
	<div class="col-md-1"></div>
	<div class="col-md-3">
		<div class="feature-info">
			<h2>What's Included in the Cleaning</h2>
			<p>Our professional Merry Cleaners are trained to ensure your home will be sparkling clean!</p>
		</div>
		<div class="feature-info">
			<h2>Cleaning Supplies Provided</h2>
			<p>We will bring most supplies necessary to make it hassle-free</p>
		</div>
	</div>
</div>
{% endblock content %}
{% block extra_js %}
<script type="text/javascript">
$('#id_bedroom').val('3');
$('#id_bathroom').val('2');
$('#id_hour').val('3');
$('#room_hour').val('3');
$(".add-require").click(function(){
	var need = $(this).attr('class').split(' ')[0];
	$('.'+need).removeClass("tiffany-blue-btn");
	if ($(this).hasClass('add-re')){
		$('#id_'+need).val('True').trigger("change");
	}else{
		$('#id_'+need).val('False').trigger("change");
	}
	$(this).addClass("tiffany-blue-btn");
	var total = $(".add-hour[value=True]").length;
	if (Number($("#id_bedroom").val()) > 2){
		var bed = Number($("#id_bedroom").val())-3;
	}else{
		var bed = 0;
	}
	if (Number($("#id_bathroom").val()) > 1){
		var bath = Number($("#id_bathroom").val())-2;
	}else{
		var bath = 0;
	}
	$('#id_hour').val(3+bed+bath+total);
});
$("#id_bedroom, #id_bathroom").change(function(){
	var hours = Number($(this).children('option:selected').val());
	var addition = $(".add-hour[value=True]").length;
	if ($(this).attr('id')=='id_bedroom'){
		if (hours > 2){
			var bed = hours-3;
		}else{
			var bed = 0;
		}
		if (Number($("#id_bathroom").val()) > 1){
			var bath = Number($("#id_bathroom").val())-2;
		}else{
			var bath = 0;
		}
	}else{
		if (hours > 1){
			var bath = hours-2;
		}else{
			var bath = 0;
		}
		if (Number($("#id_bedroom").val()) > 2){
			var bed = Number($("#id_bedroom").val())-3;
		}else{
			var bed = 0;
		}
	}
	$('#id_hour').val(3+bed+bath+addition);
});

$("#id_laundry").click(function(){
	$(".no-laundry").removeClass("tiffany-blue-btn");
});
$("#id_message").keyup(function(){
	var counter = $(this).val().length;
	$("#message-char var").text(300 - counter);
});
$('.add-re').tooltip();
</script>
{% endblock extra_js %}